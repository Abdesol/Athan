<UserControl x:Class="Athan.Avalonia.Views.PrayersView"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:views="clr-namespace:Athan.Avalonia.Views"

             d:DataContext="{Binding Path=PrayersViewModel, Source={StaticResource ViewModelLocator}}">

    <Interaction.Behaviors>
        <EventTriggerBehavior EventName="Initialized">
            <InvokeCommandAction Command="{Binding InitializedCommand}" />
        </EventTriggerBehavior>
    </Interaction.Behaviors>

    <Border Width="250" Padding="25" Classes="container"
            Background="{DynamicResource SystemChromeDisabledHighColor}">

        <views:SuspenseView Condition="{Binding ClosestPrayer, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
            <views:SuspenseView.Fallback>
                <ProgressBar IsIndeterminate="True" />
            </views:SuspenseView.Fallback>

            <views:SuspenseView.Active>
                <StackPanel HorizontalAlignment="Center" Spacing="10">
                    <TextBlock Text="Next prayer" HorizontalAlignment="Center" Opacity="0.75" />
                    <TextBlock Text="{Binding ClosestPrayer}" Classes="header" />
                </StackPanel>
            </views:SuspenseView.Active>
        </views:SuspenseView>
    </Border>
</UserControl>